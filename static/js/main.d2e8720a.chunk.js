(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,a){e.exports=a(98)},58:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(52),c=a.n(i),o=(a(58),a(1)),s=a(2),l=a(4),u=a(3),m=a(6),h=a(5),v=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLandingPage,a=e.disActiveLandingPage,n=e.activeLandingPage;return r.a.createElement("div",{className:"app-header"},r.a.createElement("h1",{onClick:n},"Piskel"),r.a.createElement("div",{className:"header-buttons-container"},t&&r.a.createElement("button",{className:"create-sprite-button",onClick:a},"Create sprite"),r.a.createElement("button",{className:"create-sprite-button"},"Sing in")))}}]),t}(r.a.Component),f=a(9),p=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.onClick,n=e.id,i=e.atciveSettingButton;return r.a.createElement("button",{className:"".concat(i===n?"active ":"","settings-button"),onClick:function(e){return a(n,e)}},r.a.createElement(f.a,{icon:t}))}}]),t}(r.a.Component),d=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"settings-area"},r.a.createElement("button",null,"gif"),r.a.createElement("button",null,".piskel"))}}]),t}(r.a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.onClick;return r.a.createElement("div",{className:"settings-area"},r.a.createElement("button",{className:"canvas-size-button",onClick:function(){return e(32)}},"32x32"),r.a.createElement("button",{className:"canvas-size-button",onClick:function(){return e(64)}},"64x64"),r.a.createElement("button",{className:"canvas-size-button",onClick:function(){return e(128)}},"128x128"))}}]),t}(r.a.Component),y=a(7),k=a(19),g=a(13),O=a.n(g),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={atciveSettingButton:null},a.settings=r.a.createRef(),a.openMenu=a.openMenu.bind(Object(m.a)(a)),a.closeMenu=a.closeMenu.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[y.c,k.c],a=this.state.atciveSettingButton,n=this.props.onClick;return r.a.createElement("div",{className:"settings",ref:this.settings,onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"buttons-container"},t.map(function(t,n){return r.a.createElement(p,{icon:t,atciveSettingButton:a,id:n,key:O()(t),onClick:e.openMenu})})),0===a&&r.a.createElement(b,{onClick:n}),1===a&&r.a.createElement(d,null),r.a.createElement("button",{className:"exit-menu-button",onClick:this.closeMenu},r.a.createElement(f.a,{icon:y.n})))}},{key:"openMenu",value:function(e,t){t.stopPropagation(),this.settings.current.classList.add("activeMenu"),this.setState({atciveSettingButton:e})}},{key:"closeMenu",value:function(){this.settings.current.classList.remove("activeMenu")}}]),t}(r.a.Component);var C=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e.getContext("2d");n&&r.clearRect(0,0,e.width,e.height),t.forEach(function(e,t){e.forEach(function(e,n){e&&(r.fillStyle="rgb(".concat(e.join(),")"),r.fillRect(a*t,a*n,a,a))})})},E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).animateFramesPreview=a.animateFramesPreview.bind(Object(m.a)(a)),a.canvas=r.a.createRef(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("canvas",{className:"preview-canvas",width:384,height:384,ref:this.canvas})}},{key:"componentDidUpdate",value:function(){clearTimeout(this.timer),this.animateFramesPreview()}},{key:"animateFramesPreview",value:function(){if(0!==this.props.fpsInputValue){var e=this.canvas.current,t=this.props,a=t.layers,n=t.fpsInputValue,r=t.pikselSize,i=0;this.timer=setInterval(function(){return function(){i>=a[0].length&&(i=0),C(e,a[0][i],r/2);for(var t=1;t<a.length;t++)C(e,a[t][i],r/2,!1);i++}()},1e3/n)}}}]),t}(r.a.Component),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getInpuValue=a.getInpuValue.bind(Object(m.a)(a)),a.input=r.a.createRef(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.onClick;return r.a.createElement("div",{className:"preview-setings"},r.a.createElement("button",{className:"toggle-skin"}),r.a.createElement("span",{className:"fps-count"},t," FPS"),r.a.createElement("input",{type:"range",className:"fps-input",value:t,onChange:this.getInpuValue,min:"0",max:"24",ref:this.input}),r.a.createElement("button",{onClick:a,className:"full-screen-button"},r.a.createElement(f.a,{icon:y.d})))}},{key:"getInpuValue",value:function(){(0,this.props.onInput)(this.input.current.value)}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={fpsInputValue:10},a.previewArea=r.a.createRef(),a.toggleFullScreen=a.toggleFullScreen.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleInput",value:function(e){this.setState({fpsInputValue:+e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.layers,n=t.pikselSize,i=this.state.fpsInputValue;return r.a.createElement("div",{className:"frames-preview",ref:this.previewArea},r.a.createElement(E,{fpsInputValue:i,layers:a,pikselSize:n}),r.a.createElement(F,{value:i,onInput:function(t){return e.handleInput(t)},onClick:this.toggleFullScreen}))}},{key:"toggleFullScreen",value:function(){document.fullscreenElement?document.exitFullscreen():this.previewArea.current.requestFullscreen()}}]),t}(r.a.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.onClick;return r.a.createElement("button",{className:"frame-copy",onClick:e},r.a.createElement(f.a,{icon:y.e}))}}]),t}(r.a.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.onClick;return r.a.createElement("button",{className:"frame-delete",onClick:e},r.a.createElement(f.a,{icon:y.o}))}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).canvas=r.a.createRef(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.onClick,n=e.id,i=e.deleteFrame,c=e.copyFrame,o=e.frames;return r.a.createElement("div",{className:"".concat(t?"active":null," frame"),onClick:function(){return a(n)}},r.a.createElement("canvas",{width:"192",height:"192",id:n,ref:this.canvas}),r.a.createElement("div",{className:"frame-count"},n+1),o.length>1&&r.a.createElement(N,{onClick:function(e){return i(n,e)}}),r.a.createElement(L,{onClick:function(e){return c(n,e)}}))}},{key:"componentDidUpdate",value:function(){this.animateFrames()}},{key:"componentDidMount",value:function(){this.animateFrames()}},{key:"animateFrames",value:function(){var e=this.canvas.current,t=this.props,a=t.id,n=t.frames,r=t.pikselSize,i=n[a];C(e,i,r/4)}}]),t}(r.a.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.onClick;return r.a.createElement("button",{className:"add-frame-button",onClick:e},r.a.createElement(f.a,{icon:y.j}),"Add frame")}}]),t}(r.a.Component),z=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.frames,n=e.currentFrame,i=e.copyFrame,c=e.deleteFrame,o=e.addFrame,s=e.pikselSize;return r.a.createElement("div",{className:"frames-controle"},a.map(function(e,o){return r.a.createElement(M,{onClick:t,frames:a,key:O()(e),id:o,active:n===o,copyFrame:i,deleteFrame:c,pikselSize:s})}),r.a.createElement(P,{onClick:o}))}}]),t}(r.a.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.activeToolId,n=e.icon,i=e.onClick;return r.a.createElement("button",{className:"".concat(t===a?"active":null," tool-button"),onClick:function(){return i(t)}},r.a.createElement(f.a,{icon:n}))}}]),t}(r.a.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=[y.i,y.f,y.g,k.a,k.d,y.m,y.k,y.l,y.h,y.p,k.b,y.b],t=this.props,a=t.onClick,n=t.activeToolId;return r.a.createElement("div",{className:"tools-controle"},e.map(function(e,t){return r.a.createElement(w,{key:O()(e),icon:e,onClick:a,id:t,activeToolId:n})}))}}]),t}(r.a.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mousePositionX,a=e.mousePositionY,n=e.canvasSize,i=e.framesLength,c=e.currentFrame;return r.a.createElement("div",{className:"frame-info"},r.a.createElement("span",null,t,"x",a),r.a.createElement("span",null,c+1,"/",i),r.a.createElement("span",null,"[",n,"x",n,"]"))}}]),t}(r.a.Component);var I=function(e){return e.map(function(e){return e.map(function(e){return e})})};var T=function(e,t,a,n,r,i){for(var c=Math.floor(t.offsetX/a),o=Math.floor(t.offsetY/a),s=r-c,l=i-o,u=Math.min(i,o),m=Math.min(r,c),h=u;h<=u+Math.abs(l);h++)e[c+s][h]=n,e[c][h]=n;for(var v=m;v<=m+Math.abs(s);v++)e[v][o]=n,e[v][o+l]=n;return e};var V=function(e,t,a,n,r,i){for(var c=Math.floor(t.offsetX/a),o=Math.floor(t.offsetY/a),s=Math.max(Math.abs(c-r),Math.abs(o-i)),l=JSON.parse(JSON.stringify(e)),u=e.length,m=0,h=s,v=1-2*s,f=0;h>=0;){var p=r-m,d=r+m,b=i-h,y=i+h,k=p<0,g=d>=u,O=b<0,j=y>=u;g||j||(l[d][y]=n),g||O||(l[d][b]=n),k||j||(l[p][y]=n),k||O||(l[p][b]=n),f=2*(v+h)-1,v<0&&f<=0?v+=2*++m+1:(f=2*(v-m)-1,v>0&&f>0?v+=1-2*--h:(v+=2*(++m-h),h--))}return l};var R=function(e,t,a,n){var r=Math.floor(n.offsetX/a),i=Math.floor(n.offsetY/a),c=e.length,o=e[r][i]?e[r][i].join():void 0;if(o!==t.join())for(var s=[[r,i]];s.length;){var l=s.pop(),u=l[0],m=l[1];u>=0&&u<c&&m>=0&&m<c&&o===(e[u][m]?e[u][m].join():void 0)&&(e[u][m]=t,s.push([u-1,m],[u+1,m],[u,m-1],[u,m+1]))}};var X=function(e,t,a,n,r,i){var c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=Math.abs(a-r),s=Math.abs(n-i),l=r<a?1:-1,u=i<n?1:-1,m=o-s,h=e.length/2;do{var v=2*m;e[a][n]=e[r][i]=t,c&&(e[h+-(r-h+1)][i]=t),2*m>-s&&(m-=s,r+=l),v<o&&(m+=o,i+=u)}while(r!==a||i!==n);return e};var Y=function(e){if(e)return e.map(function(e){return Math.min(250,e+25)})};var B=function(e,t){var a=e.nativeEvent?e.nativeEvent:e;return{x:Math.floor(a.offsetX/t),y:Math.floor(a.offsetY/t)}};var D=function(e,t,a,n){var r=Math.floor(n.offsetX/a),i=Math.floor(n.offsetY/a),c=e[r][i]?e[r][i].join():void 0;e.forEach(function(a,n){a.forEach(function(a,r){(e[n][r]?e[n][r].join():void 0)===c&&(e[n][r]=t)})})};var J=function(e){for(var t=e.length,a=0;a<t/2;a++)for(var n=a;n<t-a-1;n++){var r=e[a][n];e[a][n]=e[t-n-1][a],e[t-n-1][a]=e[t-a-1][t-n-1],e[t-a-1][t-n-1]=e[n][t-a-1],e[n][t-a-1]=r}return e};var q=function(e,t,a,n,r){var i=n-t,c=a-r,o=e.length;i>0&&(e=Array.from(Array(i),function(){return new Array(o).fill(0)}).concat(e.slice(0,-i))),i<0&&(e=e.slice(-i).concat(Array.from(Array(-i),function(){return new Array(o).fill(0)})));for(var s=0;s<o;s++)c<0&&(e[s]=Array(-c).fill(void 0).concat(e[s].slice(0,c))),c>0&&(e[s]=e[s].slice(c).concat(Array(c).fill(void 0)));return e};var U=function(e,t,a,n){return e[a][n]=(a+n)%2===0?t:void 0,e},H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).penOrEraserOrMirror=function(e){var t=a.canvas.current;t.onmouseup=null;var n=a.props,r=n.frame,i=n.mainColor,c=n.secondaryColor,o=n.pikselSize,s=n.changeFrame,l=n.activeToolId,u=B(e,o),m=8===l,h=[u.x,u.y],v=3===e.nativeEvent.which?c:i;1===l&&(v=void 0),X(r,v,u.x,u.y,u.x,u.y,m),C(t,r,o),t.onmousemove=function(e){var a=B(e,o);h.push(a.x,a.y),h.length>4&&h.splice(0,2),X.apply(void 0,[r,v].concat(h,[m])),C(t,r,o)},t.onmouseup=function(){t.onmousemove=null,s(r)}},a.lighten=function(e){var t=a.canvas.current;t.onmouseup=null;var n=a.props,r=n.frame,i=n.pikselSize,c=n.changeFrame,o=B(e,i),s=Y(r[o.x][o.y]);X(r,s,o.x,o.y,o.x,o.y),C(t,r,i),t.onmousemove=function(e){var a=B(e,i);s=Y(r[a.x][a.y]),X(r,s,a.x,a.y,a.x,a.y),C(t,r,i)},t.onmouseup=function(){t.onmousemove=null,c(r)}},a.penOrEraserOrMirror=a.penOrEraserOrMirror.bind(Object(m.a)(a)),a.canvas=r.a.createRef(),a.chooseToolFunction=a.chooseToolFunction.bind(Object(m.a)(a)),a.rectangleAndCircle=a.rectangleAndCircle.bind(Object(m.a)(a)),a.stroke=a.stroke.bind(Object(m.a)(a)),a.lighten=a.lighten.bind(Object(m.a)(a)),a.rotateFrame=a.rotateFrame.bind(Object(m.a)(a)),a.moveFrame=a.moveFrame.bind(Object(m.a)(a)),a.ditheringFrame=a.ditheringFrame.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("canvas",{onMouseDown:this.chooseToolFunction,onContextMenu:function(e){return e.preventDefault()},className:"main-canvas",width:"768",height:"768",ref:this.canvas})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.frame,a=e.pikselSize,n=this.canvas.current;C(n,t,a)}},{key:"chooseToolFunction",value:function(e){var t=this.props.activeToolId;switch(t){case 0:case 1:case 8:this.penOrEraserOrMirror(e);break;case 2:this.bucketArea(e);break;case 3:case 4:this.rectangleAndCircle(t,e);break;case 5:this.stroke(e);break;case 6:this.colorSamePiksels(e);break;case 7:this.lighten(e);break;case 9:this.rotateFrame();break;case 10:this.moveFrame(e);break;case 11:this.ditheringFrame(e)}}},{key:"ditheringFrame",value:function(e){var t=this.canvas.current;t.onmouseup=null;var a=this.props,n=a.frame,r=a.mainColor,i=a.secondaryColor,c=a.pikselSize,o=a.changeFrame,s=B(e,c),l=I(n),u=3===e.nativeEvent.which?i:r;U(l,u,s.x,s.y),C(t,n,c),t.onmousemove=function(e){var a=B(e,c);l=U(l,u,a.x,a.y),C(t,l,c)},t.onmouseup=function(){t.onmousemove=null,o(l)}}},{key:"moveFrame",value:function(e){var t=this.props,a=t.frame,n=t.pikselSize,r=t.changeFrame,i=this.canvas.current,c=B(e,n),o=I(a);i.onmouseup=null,i.onmousemove=function(e){var t=I(a),r=B(e,n);o=q(t,c.x,c.y,r.x,r.y),C(i,o,n)},i.onmouseup=function(){i.onmousemove=null,r(o)}}},{key:"rotateFrame",value:function(){this.canvas.current.onmouseup=null;var e=this.props,t=e.frame;(0,e.changeFrame)(J(t))}},{key:"colorSamePiksels",value:function(e){this.canvas.current.onmouseup=null;var t=this.props,a=t.frame,n=t.mainColor,r=t.secondaryColor,i=t.pikselSize,c=t.changeFrame,o=3===e.nativeEvent.which?r:n;D(a,o,i,e.nativeEvent),c(a)}},{key:"stroke",value:function(e){var t=this.props,a=t.frame,n=t.mainColor,r=t.secondaryColor,i=t.pikselSize,c=t.changeFrame,o=this.canvas.current;o.onmouseup=null;var s=3===e.nativeEvent.which?r:n,l=B(e,i),u=I(a);X(u,s,l.x,l.y,l.x,l.y),C(o,a,i),o.onmousemove=function(e){var t=I(a),n=B(e,i);u=X(t,s,l.x,l.y,n.x,n.y),C(o,u,i)},o.onmouseup=function(){o.onmousemove=null,c(u)}}},{key:"rectangleAndCircle",value:function(e,t){var a=this.props,n=a.frame,r=a.mainColor,i=a.secondaryColor,c=a.pikselSize,o=a.changeFrame,s=this.canvas.current;s.onmouseup=null;var l=3===t.nativeEvent.which?i:r,u=B(t,c),m=4===e?T:V,h=I(n);X(h,l,u.x,u.y,u.x,u.y),C(s,n,c),s.onmousemove=function(e){var t=I(n);h=m(t,e,c,l,u.x,u.y),C(s,h,c)},s.onmouseup=function(){s.onmousemove=null,o(h)}}},{key:"bucketArea",value:function(e){this.canvas.current.onmouseup=null;var t=this.props,a=t.frame,n=t.mainColor,r=t.secondaryColor,i=t.pikselSize,c=t.changeFrame,o=3===e.nativeEvent.which?r:n;R(a,o,i,e.nativeEvent),c(a)}}]),t}(r.a.PureComponent),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={x:0,y:0},a.changeMousePosition=a.changeMousePosition.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeToolId,a=e.changeFrame,n=e.frame,i=e.mainColor,c=e.secondaryColor,o=e.pikselSize,s=e.canvasSize,l=e.currentFrame,u=e.framesLength;return r.a.createElement("div",{className:"main-canvas"},r.a.createElement("div",{className:"main-canvas-container",onMouseMove:this.changeMousePosition},r.a.createElement(H,{activeToolId:t,changeFrame:a,frame:n,mainColor:i,secondaryColor:c,pikselSize:o,canvasSize:s,currentFrame:l,framesLength:u})),r.a.createElement("div",{className:"main-canvas-info"},r.a.createElement(A,{canvasSize:s,framesLength:u,currentFrame:l,mousePositionX:this.state.x,mousePositionY:this.state.y})))}},{key:"changeMousePosition",value:function(e){var t=this.props.pikselSize,a=Math.floor(e.nativeEvent.offsetX/t),n=Math.floor(e.nativeEvent.offsetY/t);this.setState({x:a,y:n})}}]),t}(r.a.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.deleteLayer,n=e.changeCurrentLayer,i=e.currentLayer,c=e.layers;return r.a.createElement("div",{id:t,onClick:function(e){return n(t,e)},className:"".concat(i===t?"active ":"","layer-view")},"Layer ",t+1,c.length>1&&r.a.createElement("button",{className:"delete-layer-button",onClick:function(e){return a(t,e)}},r.a.createElement(f.a,{icon:y.o})),c.length>1&&r.a.createElement("button",{className:"delete-layer-button",onClick:function(e){return a(t,e)}},r.a.createElement(f.a,{icon:y.o})),c.length>1&&r.a.createElement("button",{className:"delete-layer-button",onClick:function(e){return a(t,e)}},r.a.createElement(f.a,{icon:y.o})))}}]),t}(r.a.Component),K=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.layers,a=e.addLayer,n=e.deleteLayer,i=e.changeCurrentLayer,c=e.currentLayer;return r.a.createElement("div",{className:"layer-settings"},r.a.createElement("div",{className:"layer-settings-header"},r.a.createElement("button",{className:"add-layer-button",onClick:a},"Add layer",r.a.createElement(f.a,{icon:y.j}))),r.a.createElement("div",{className:"layer-settings-container"},t.map(function(e,a){return r.a.createElement(G,{id:a,key:O()(e),deleteLayer:n,changeCurrentLayer:i,currentLayer:c,layers:t})})))}}]),t}(r.a.Component);var Q=function(e){return Array.from(Array(e),function(){return new Array(e)})},W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).input=r.a.createRef(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.buttonClass,n=t.onClick,i=t.id,c=t.color,o=t.value;return r.a.createElement("button",{className:a,style:{backgroundColor:"rgba(".concat(c.join(),")")},onClick:function(){return e.input.current.click()}},r.a.createElement("input",{type:"color",onChange:function(){return n(i,e.input.current.value)},ref:this.input,value:o}))}}]),t}(r.a.Component),Z=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.mainColor,n=e.secondaryColor,i=e.swapColor;return r.a.createElement("div",{className:"color-picker"},r.a.createElement(W,{buttonClass:"main color-button",color:a,id:0,value:"#5e5e5e",onClick:t}),r.a.createElement(W,{buttonClass:"secondary color-button",color:n,id:1,value:"#7423a0",onClick:t}),r.a.createElement("button",{onClick:i,className:"swap-color-button"},r.a.createElement(f.a,{icon:y.a})))}}]),t}(r.a.Component),_=function(e){return e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,a,n){return"#"+t+t+a+a+n+n}).substring(1).match(/.{2}/g).map(function(e){return parseInt(e,16)})},ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={activeToolId:0,pikselSize:24,mousePosition:{x:0,y:0},canvasSize:32,layers:[[Q(32)]],currentFrame:0,currentLayer:0,mainColor:[0,0,0],secondaryColor:[116,35,160]},a.handleToolClick=a.handleToolClick.bind(Object(m.a)(a)),a.handleFrameClick=a.handleFrameClick.bind(Object(m.a)(a)),a.changeFrame=a.changeFrame.bind(Object(m.a)(a)),a.addFrame=a.addFrame.bind(Object(m.a)(a)),a.deleteFrame=a.deleteFrame.bind(Object(m.a)(a)),a.copyFrame=a.copyFrame.bind(Object(m.a)(a)),a.handleColorPickerClick=a.handleColorPickerClick.bind(Object(m.a)(a)),a.swapColor=a.swapColor.bind(Object(m.a)(a)),a.changeCanvasSize=a.changeCanvasSize.bind(Object(m.a)(a)),a.addLayer=a.addLayer.bind(Object(m.a)(a)),a.deleteLayer=a.deleteLayer.bind(Object(m.a)(a)),a.changeCurrentLayer=a.changeCurrentLayer.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.activeToolId,a=e.pikselSize,n=e.layers,i=e.currentFrame,c=e.mainColor,o=e.secondaryColor,s=e.canvasSize,l=e.currentLayer;return r.a.createElement("div",{className:"app-main",onClick:this.mainHandleClick},r.a.createElement("div",{className:"tools"},r.a.createElement(x,{onClick:this.handleToolClick,activeToolId:t}),r.a.createElement(Z,{onClick:this.handleColorPickerClick,mainColor:c,secondaryColor:o,swapColor:this.swapColor})),r.a.createElement(z,{frames:n[l],pikselSize:a,onClick:this.handleFrameClick,addFrame:this.addFrame,currentFrame:i,copyFrame:this.copyFrame,deleteFrame:this.deleteFrame}),r.a.createElement($,{activeToolId:t,changeFrame:this.changeFrame,frame:I(n[l][i]),mainColor:c,secondaryColor:o,pikselSize:a,changeMousePosition:this.changeMousePosition,canvasSize:s,currentFrame:i,framesLength:n[l].length}),r.a.createElement("div",{className:"preview-tools"},r.a.createElement(S,{layers:n,pikselSize:a}),r.a.createElement(K,{currentLayer:l,layers:n,addLayer:this.addLayer,deleteLayer:this.deleteLayer,changeCurrentLayer:this.changeCurrentLayer})),r.a.createElement(j,{onClick:this.changeCanvasSize}))}},{key:"mainHandleClick",value:function(){document.querySelector(".settings").classList.remove("activeMenu")}},{key:"changeFrame",value:function(e){var t=this.state,a=t.layers,n=t.currentFrame;a[t.currentLayer][n]=e,this.setState({layers:a})}},{key:"handleToolClick",value:function(e){this.setState({activeToolId:e})}},{key:"handleColorPickerClick",value:function(e,t){0===e&&this.setState({mainColor:_(t)}),1===e&&this.setState({secondaryColor:_(t)})}},{key:"swapColor",value:function(){var e=this.state,t=e.secondaryColor,a=e.mainColor;this.setState({mainColor:t,secondaryColor:a})}},{key:"handleFrameClick",value:function(e){this.setState({currentFrame:e})}},{key:"addFrame",value:function(){var e=this.state,t=e.layers,a=e.canvasSize;t.forEach(function(e){return e.push(Q(a))}),this.setState({layers:t})}},{key:"copyFrame",value:function(e,t){t.stopPropagation();var a=this.state.layers;a.forEach(function(t){var a=I(t[e]);t.splice(e,0,a)}),this.setState({layers:a})}},{key:"deleteFrame",value:function(e,t){t.stopPropagation();var a=this.state,n=a.layers,r=a.currentLayer;n.forEach(function(t){t.splice(e,1)}),this.setState({currentFrame:n[r].length===e?e-1:e,layers:n})}},{key:"changeCanvasSize",value:function(e){var t=this.state,a=t.canvasSize,n=t.layers,r=t.currentLayer,i=t.pikselSize;if(e!==a){var c=Math.abs(e-a)/2,o=a/e,s=n[r].length;document.querySelector(".main-canvas-container").style.backgroundSize="".concat(i*o,"px ").concat(i*o,"px");for(var l=0;l<n.length;l++){if(e>a)for(var u=0;u<s;u++){for(var m=n[l][u],h=0;h<a;h++)m[h]=Array(c).concat(m[h]),m[h]=m[h].concat(Array(c));for(var v=0;v<c;v++)m.unshift(Array(2*c)),m.push(Array(2*c))}if(e<a)for(var f=0;f<s;f++){var p=n[l][f];p.splice(0,c),p.splice(e,c);for(var d=0;d<e;d++)p[d].splice(0,c),p[d].splice(e,c)}}this.setState({pikselSize:i*o,canvasSize:e,layers:n})}}},{key:"addLayer",value:function(){for(var e=this.state,t=e.layers,a=e.canvasSize,n=t[0].length,r=[],i=0;i<n;i++)r.push(Q(a));t.push(r),this.setState({layers:t})}},{key:"deleteLayer",value:function(e,t){t.stopPropagation();var a=this.state.layers;a.splice(e,1),this.setState({currentLayer:a.length===e?e-1:e,layers:a})}},{key:"changeCurrentLayer",value:function(e,t){t.stopPropagation(),this.setState({currentLayer:e,currentFrame:0})}}]),t}(r.a.Component),te=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing-page"})}}]),t}(r.a.Component),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isLandingPage:!0},a.activeLandingPage=a.activeLandingPage.bind(Object(m.a)(a)),a.disActiveLandingPage=a.disActiveLandingPage.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.isLandingPage;return r.a.createElement("div",{className:"App"},r.a.createElement(v,{disActiveLandingPage:this.disActiveLandingPage,activeLandingPage:this.activeLandingPage,isLandingPage:this.state.isLandingPage}),e&&r.a.createElement(te,null),!e&&r.a.createElement(ee,null))}},{key:"activeLandingPage",value:function(){this.setState({isLandingPage:!0})}},{key:"disActiveLandingPage",value:function(){this.setState({isLandingPage:!1})}}]),t}(r.a.Component);c.a.render(r.a.createElement(ae,null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.d2e8720a.chunk.js.map